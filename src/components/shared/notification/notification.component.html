<div class="fixed top-4 right-4 z-[10000] w-full max-w-sm space-y-3">
  @for (notification of notifications(); track notification.id) {
    <div
      class="relative flex items-center p-4 pr-10 text-white rounded-lg shadow-lg animate-fade-in-down backdrop-blur-md"
      [class.bg-red-800/80]="notification.type === 'error'"
      [class.border-red-500/50]="notification.type === 'error'"
      [class.bg-emerald-800/80]="notification.type === 'success'"
      [class.border-emerald-500/50]="notification.type === 'success'"
      [class.bg-blue-800/80]="notification.type === 'info'"
      [class.border-blue-500/50]="notification.type === 'info'"
      role="alert"
    >
      <div class="shrink-0">
        @if (notification.type === 'error') {
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" /></svg>
        }
        @if (notification.type === 'success') {
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>
        }
        @if (notification.type === 'info') {
           <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" /></svg>
        }
      </div>
      <div class="ml-3 text-sm font-medium">
        <p>{{ notification.message }}</p>
        @if(notification.errorId) {
          <div class="mt-2 pt-2 border-t border-white/20 text-xs">
            <p class="text-white/80">{{ 'errorMessages.errorId' | translate }}: {{ notification.errorId }}</p>
            <button (click)="reportError(notification)" class="mt-1 font-semibold text-cyan-300 hover:underline">
              {{ 'errorMessages.reportError' | translate }}
            </button>
          </div>
        }
      </div>
      <button
        (click)="notificationService.removeNotification(notification.id)"
        class="absolute top-2 right-2 p-1 rounded-md text-white/70 hover:text-white hover:bg-white/10"
        aria-label="Close"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" /></svg>
      </button>
    </div>
  }
</div>